# [SumTo] 設計仕様書

## 1. 概要
utils.sum_toを用いて、渡された配列の形状の総和を返す
## 2. クラス 定義

| 関数名 | 引数 | 役割 | 備考 |
| :--- | :--- | :--- | :--- |
| `__init__` | `self, shape` | インスタンスに`shape`を格納 | |
| `forward` | `self, x` | `x`の形状をインスタンス変数に格納し、`self.shape`の形状に変更する |  |
| `backward` | `self, gy` | sum_to関数を用いて、勾配と`self.x_shape`の総和を求める |  |

## 3. メソッド/関数 
メソッドごとのプロトタイプと処理フローを記載。

### `__init__(self, shape)`
#### 処理フロー

**変数名一覧**
| 変数名 | 説明 | 使用箇所 | 補足 |
| :--- | :--- | :--- | :--- |
| `self.shape` | 引数で指定された形状を格納し保管 | 処理開始直後 |  | 

1. **格納**: `self.shape = shape`でshapeをインスタンス変数に格納

### `forward(self, x)`
- **戻り値**: `y`

#### 処理フロー

**変数名一覧**
| 変数名 | 説明 | 使用箇所 | 補足 |
| :--- | :--- | :--- | :--- |
| `self.x_shape` | 引数`x`の形状を格納し保管 | backwardにて`sum_to`関数の第２引数へ渡す|  | 

1. **初期化**: `self.x_shape = x.shape`で`x`の形状を保管
2. **変換処理**: `y = util.sum_to(x, self.shape)` で`x`と`self.shape`の総和を求め`y`を返す

### `backward(self, gy)`
- **戻り値**: `gx`

#### 処理フロー
**変数名一覧**
| 変数名 | 説明 | 使用箇所 | 補足 |
| :--- | :--- | :--- | :--- |
| `gx` | `broadcast_to`関数を用いた総和を返す | 処理開始直後 |  | 

1. **変換処理**: `gx = broadcast_to(gy, self.x_shape)`で`gy`の形状を入力値(`self.x_shape`)に変更した`gx`を返す   