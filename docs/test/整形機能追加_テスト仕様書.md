# [Variableインスタンスの整形機能追加] 単体テスト仕様書

## 1. テスト目的

`Variable` インスタンスの整形(reshape)が正しく行えているかを確認
## 2. テスト対象クラス・メソッド

| 対象クラス | 対象メソッド | 確認内容の要約 |
| --- | --- | --- |
| `Variable` | `reshape` | reshapeが正しく行えているか確認 |

#### 3.1 正常系テスト (Normal Cases) - 追加分

| ID | テストケース名 | 入力値 (Input) | 期待される結果 (Expected) | 検証方法 |
| --- | --- | --- | --- | --- |
| N-04 | Transpose: 2次元転置 | `x = (2, 3)` | `y.shape == (3, 2)` | `assertEqual` |
| N-05 | Transpose: 軸指定 | `x = (1, 2, 3)`, `axes=(1, 0, 2)` | `y.shape == (2, 1, 3)` | `assertEqual` |
| N-06 | Reshape: 基本変形 | `x = (4, 3)`, `shape=(2, 6)` | `y.shape == (2, 6)` | `assertEqual` |
| N-07 | Reshape: 自動計算 | `x = (4, 3)`, `shape=(-1, 6)` | `y.shape == (2, 6)` | `assertEqual` |
| N-08 | Transpose: 勾配の形状 | `x = (2, 3)` | `x.grad.shape == (2, 3)` | `assertEqual` |
| N-09 | Reshape: 勾配の形状 | `x = (4, 3)`, `shape=(2, 6)` | `x.grad.shape == (4, 3)` | `assertEqual` |

#### 3.2 境界値・異常系テスト (Edge/Exception Cases) - 追加分

| ID | テストケース名 | 入力値 (Input) | 期待される結果 (Expected) | 備考 |
| --- | --- | --- | --- | --- |
| E-03 | Reshape: 要素数不一致 | `x = (2, 2)`, `shape=(5,)` | エラー（ValueError等）が発生すること | サイズが合わない場合 |
| E-04 | Transpose: 同一形状 | `x = (2, 2)` | 形状は変わらず、値が維持されること | 転置前後で変化がないケース |
| E-05 | 連続した演算 | `x.reshape(...).transpose(...)` | 最終的な勾配が`x`の初期形状と一致 | 複合的な形状変化の検証 |

---
